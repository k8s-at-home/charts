# Default values for Recipes.

image:
  repository: vabene1111/recipes
  pullPolicy: IfNotPresent
  tag: 0.11.2

strategy:
  type: Recreate

service:
  port:
    port: 80

env:
  DEBUG: "0"
  ALLOWED_HOSTS: "*"
  SECRET_KEY: changeme
  DB_ENGINE: django.db.backends.postgresql_psycopg2
  POSTGRES_HOST:
  POSTGRES_PORT:
  POSTGRES_USER:
  POSTGRES_DB:
  POSTGRES_PASSWORD:
  GUNICORN_MEDIA: "0"
  TIMEZONE: America/New_York
  FRACTION_PREF_DEFAULT: "0"
  COMMENT_PREF_DEFAULT: "1"
  SHOPPING_MIN_AUTOSYNC_INTERVAL: "5"

persistence:
  config:
    enabled: false
  media:
    enabled: true
    mountPath: /opt/recipes/mediafiles
    existingClaim: recipes-media
  static:
    enabled: true
    mountPath: /opt/recipes/staticfiles
    existingClaim: recipes-static

additionalContainers:
- name: nginx
  image: nginx:1.19.6
  ports:
    - containerPort: 80
      name: http
  volumeMounts:
  - name: media
    mountPath: '/media'    
  - name: static
    mountPath: '/static'
  - name: recipes-config
    mountPath: /etc/nginx/nginx.conf
    subPath: nginx-config
    readOnly: true

additionalVolumes:
- name: recipes-config
  configMap:
    name: recipes-config
